<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="sp" href="sp.html">
    <link rel="final" href="final.html">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            background-color: rgb(14, 203, 200);
        }
    </style>
</head>

<body>
    <div class="fin">        
        <button class="delbu" onclick="delet()">DELETE ROW </button>
        <button class="backbut" onclick="backbut()">BACK</button>
        <button class="edibu" onclick="editv()">EDIT ROW</button>
        <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names.." title="Type in a name">
        
    </div>
        <table id="tabl" >
        
        <tr>
            <th>S.No</th>
            <th>RESUME</th>
            <th>FIRST NAME</th>
            <th>LAST NAME</th>
            <th>DOB</th>
            <th>CONTACT</th>
            <th>ADDRESS</th>
            <th>GMAIL</th>
            <th>GENDER</th>
            <th>STATE</th>
            <th>CITY</th>
            <th>QUALIFICATION</th>
            <th>DEPARTMENT</th>
        </tr>

<script>
        
        
        var save=localStorage.getItem("testJSON");
        var obj = JSON.parse(save);
        
        
        
        function myFunction() {
          var input, filter, table, tr, td, i, txtValue;
          input = document.getElementById("myInput");
          table = document.getElementById("tabes1");
          tr = table.getElementsByTagName("tr");
          for (i = 0; i < obj.length; i++) {
            td = obj[i].getElementsByTagName("td");
            if (td)
              {
                obj[i].style.display = "";
              }
            }       
          }
        

        function backbut (){
            window.location.href="employee.html";
        }

        function delet() {
            var n =prompt('ENTER THE ROW');
            if(n)
            {
                var j=n;
                document.getElementById("tabl").deleteRow(j);
                var rws = JSON.parse(save)
                rws.splice(j -1,1);      
                location.reload();       
                localStorage.setItem("testJSON",JSON.stringify(rws));
                
            }
            else if(n == 0)
            {              
                alert('Please enter the row');
            }  
        }
        
        function editv() { 
            var j = prompt('Enter the row number');
            if(j)
            {
                localStorage.setItem('value1',JSON.stringify(j));
                window.location.href="sp.html";
            }
            else if(j == 0)  
            {
                alert('Please enter the row');
            }
                  
            }
        for(let i=0;i<obj.length;i++){
        var det = obj[i];
        var num = 1;
        num +=i;
        document.write('<tr id="tabes1" onmouseover="getIndex(this)"><td>' + num +'</td><td>' + det.Resume + '</td><td>' + det.Fname + '</td><td>' + det.Lname + '</td><td>' + det.DOB + '</td><td>' + det.Contact + '</td><td>' + det.Address +
             '</td><td>' + det.Gmail + '</td><td>' + det.Gender + '</td><td>' + det.State + '</td><td>' + det.City + '</td><td>' + det.Qualification + '</td><td>' + det.Department + '</td></tr>');
             
    } 
</script>
<script>
    
</script>
</table>
</body>
</html>
